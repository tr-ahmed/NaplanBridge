# โ ุฅุตูุงุญ ุฎุทุฃ 403 ูู ุฅูุดุงุก Subjects

## ๐ฏ ููุฎุต ุงูุญู

ุชู ุชุญุณูู ูุนุงูุฌุฉ ุฎุทุฃ **403 Forbidden** ุนูุฏ ุฅูุดุงุก ููุถูุนุงุช ุฌุฏูุฏุฉ.

### โจ ุงูุชุญุณููุงุช:
โ ุฑุณุงุฆู ุฎุทุฃ ุฃูุซุฑ ูุถูุญุงู ููููุฏุฉ
โ ูุนุงูุฌุฉ ุฃูุถู ูุฌููุน ุฃููุงุฏ ุงูุฎุทุฃ (400, 401, 403, 409)
โ ุชุณุฌูู (logging) ูุญุณูู ูู Console
โ ุชุนูููุงุช ูุงุถุญุฉ ูููุณุชุฎุฏู

---

## ๐ง ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. `teacher-content-management.service.ts`

**ูุง ุชู ุชุญุณููู:**
```typescript
// ูุจู: ุฑุณุงูุฉ ุนุงูุฉ ููุท
catchError(error => {
  console.error('Error creating subject:', error);
  throw error;
});

// ุจุนุฏ: ุฑุณุงุฆู ูุญุฏุฏุฉ ุญุณุจ ููุน ุงูุฎุทุฃ
catchError(error => {
  let errorMessage = 'Failed to create subject';
  if (error.status === 403) {
    errorMessage = '๐ You do not have permission to create subjects.';
  } else if (error.status === 400) {
    errorMessage = 'โ๏ธ Invalid subject data.';
  } else if (error.status === 401) {
    errorMessage = '๐ Your session has expired.';
  } else if (error.status === 409) {
    errorMessage = 'โ๏ธ A subject with this name already exists.';
  }
  throw new Error(errorMessage);
});
```

### 2. `subject-creation-modal.component.ts`

**ูุง ุชู ุชุญุณููู:**
```typescript
// ูุจู: ุฑุณุงูุฉ ุนุงูุฉ
this.toastService.showError('Failed to create subject. Please try again.');

// ุจุนุฏ: ุนุฑุถ ุฑุณุงูุฉ ุงูุฎุทุฃ ุงูููุตูุฉ ูู ุงูุฎุฏูุฉ
const errorMessage = error?.message || 'Failed to create subject';
this.toastService.showError(errorMessage);
```

---

## ๐ ุฌุฏูู ุฑุณุงุฆู ุงูุฎุทุฃ

| ุงูููุฏ | ุงูุฑุณุงูุฉ | ุงูุณุจุจ | ุงูุญู |
|------|--------|-------|------|
| **403** | ๐ You do not have permission | ุงููุณุชุฎุฏู ููุณ ูุฏูู ุตูุงุญูุฉ | ุณุฌูู ุฏุฎูู ูู Admin ุฃู ุงุทูุจ ุตูุงุญูุงุช |
| **400** | โ๏ธ Invalid subject data | ุจูุงูุงุช ุฎุงุทุฆุฉ | ุชุญูู ูู ุฌููุน ุงูุญููู |
| **401** | ๐ Your session has expired | ุงูุชูุช ุฌูุณุฉ ุงูุนูู | ุณุฌูู ุงูุฏุฎูู ูุฌุฏุฏุงู |
| **409** | โ๏ธ A subject with this name exists | ุงูููุถูุน ููุฌูุฏ | ุงุฎุชุฑ ุงุณู ูุฎุชูู |

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### ุงูุฎุทูุฉ 1: ุญุงูู ุงูุฅูุดุงุก ุจุฏูู Admin
```
1. ุณุฌูู ุงูุฏุฎูู ูู Teacher
2. ุงูุชุญ modal ุงูุฅูุดุงุก
3. ุฃุฏุฎู ุจูุงูุงุช ุตุญูุญุฉ
4. ุงุถุบุท Create
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุฎุทุฃ 403
- ๐ข ุฑุณุงูุฉ ูุงุถุญุฉ: "๐ You do not have permission..."

### ุงูุฎุทูุฉ 2: ุญุงูู ุงูุฅูุดุงุก ูู Admin
```
1. ุณุฌูู ุงูุฏุฎูู ูู Admin
2. ุงูุชุญ modal ุงูุฅูุดุงุก
3. ุฃุฏุฎู ุจูุงูุงุช ุตุญูุญุฉ
4. ุงุถุบุท Create
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ููุฌุญ ุงูุฅูุดุงุก
- โจ ุฑุณุงูุฉ ูุฌุงุญ ูุงุถุญุฉ

### ุงูุฎุทูุฉ 3: ุฌุฑูุจ ุจูุงูุงุช ุฎุงุทุฆุฉ
```
1. ุงุชุฑู ุญูู ูุทููุจ ูุงุฑุบ
2. ุงุถุบุท Create
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุฑุณุงูุฉ: "Please fill in all required fields"

---

## ๐ฏ ุงูุญุงูุงุช ุงูุชู ูุชุนุงูู ูุนูุง ุงูุญู

### โ ุญุงูุงุช ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:

1. **403 - ุจุฏูู ุตูุงุญูุงุช:**
   - ูุธูุฑ ุฑุณุงูุฉ ูุงุถุญุฉ ุชููู ุฃูู ุชุญุชุงุฌ Admin
   - ููุชุฑุญ ุชุณุฌูู ุฏุฎูู ูู Admin

2. **400 - ุจูุงูุงุช ุฎุงุทุฆุฉ:**
   - ูุธูุฑ ุฑุณุงูุฉ ุชููู ุฃู ุงูุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ
   - ูุทูุจ ูุฑุงุฌุนุฉ ุงูุญููู

3. **401 - ุงูุชูุงุก ุงูุฌูุณุฉ:**
   - ูููู ุฃู ุงูุฌูุณุฉ ุงูุชูุช
   - ูุทูุจ ุชุณุฌูู ุฏุฎูู ุฌุฏูุฏ

4. **409 - ุงูููุถูุน ููุฌูุฏ:**
   - ูููู ุฃู ุงูููุถูุน ุจููุณ ุงูุงุณู ููุฌูุฏ
   - ูุทูุจ ุงุณู ูุฎุชูู

---

## ๐ ุฑุณุงุฆู Console ุงููุญุณููุฉ

**ุนูุฏ ุงูุฅูุดุงุก:**
```
๐ Creating subject: {name: "Math", yearId: 1, ...}
```

**ุนูุฏ ุงููุฌุงุญ:**
```
โ Subject created successfully: {id: 123, name: "Math", ...}
```

**ุนูุฏ ุงููุดู:**
```
โ Error creating subject: {
  status: 403,
  message: "Forbidden",
  error: {...}
}
```

---

## ๐ ูุตุงุฆุญ ุงูุฃูุงู

### ุฅุฐุง ูุงุฌูุช 403 ุจุงุณุชูุฑุงุฑ:
1. โ ุชุญูู ูู ุฃูู ูุณุฌู ุฏุฎูู
2. โ ุชุญูู ูู ุฏูุฑู (Admin ุฃู Teacher)
3. โ ุชุญูู ูู ุตูุงุญูุงุชู ูู Backend
4. โ ุชูุงุตู ูุน Admin ูุฅุถุงูุฉ ุตูุงุญูุงุช

### ูุง ูุนูู 403:
- ุงูุทูุจ ุตุญูุญ ูู ุงููุงุญูุฉ ุงูุจููุฉ
- ูููู **ููุณ ูุฏูู ุฅุฐู** ููููุงู ุจูุฐุง ุงูุฅุฌุฑุงุก
- ูุฏ ุชุญุชุงุฌ ูู:
  - ุฏูุฑ ูุฎุชูู (ูุซู Admin)
  - ุตูุงุญูุฉ ูุญุฏุฏุฉ (permission)
  - ุชุตุฑุญ ูู Admin

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู

- [x] ุชู ุชุญุณูู ูุนุงูุฌุฉ ุงูุฎุทุฃ 403
- [x] ุชู ุฅุถุงูุฉ ุฑุณุงุฆู ุฎุทุฃ ูุญุฏุฏุฉ ููู ููุฏ
- [x] ุชู ุชุญุณูู ุงูุชุณุฌูู ูู Console
- [x] ุชู ุงุฎุชุจุงุฑ ุงูุฃุฎุทุงุก ุงููุฎุชููุฉ
- [x] ูุง ุชูุฌุฏ ุฃุฎุทุงุก TypeScript

---

## ๐ ุชุนููู ูููุณุชุฎุฏู

### ุฑุณุงูุฉ ุชูุถูุญูุฉ ุนูุฏ ุงููุดู:
```
ุนุฒูุฒู ุงููุณุชุฎุฏู:

ุฃูุช ุชุญุงูู ุฅูุดุงุก ููุถูุน ุฌุฏูุฏ ููู ููุณ ูุฏูู ุงูุตูุงุญูุงุช ุงููุทููุจุฉ.

๐ ููุท ูุณุชุฎุฏูู Admin ูููููู ุฅูุดุงุก Subjects ุฌุฏูุฏุฉ

ุงูุญููู:
โ ุณุฌูู ุฏุฎูู ุจุญุณุงุจ Admin
โ ุฃู ุงุทูุจ ูู ุงููุฏูุฑ ุฅุถุงูุฉ ุตูุงุญูุงุช ูุญุณุงุจู

ุดูุฑุงู ูุงุณุชุฎุฏุงูู ุงููุธุงู!
```

---

## ๐ Debugging Tips

ุฅุฐุง ุฃุฑุฏุช ูุนุฑูุฉ ุงูุฎุทุฃ ุงูุฏููู:

1. **ุงูุชุญ Browser Console (F12)**
2. **ุงุจุญุซ ุนู ุงูุฑุณุงุฆู ุงูุชู ุชุจุฏุฃ ุจู โ**
3. **ุงูุฑุฃ ุงูุฑุณุงูุฉ ุงููุงููุฉ**
4. **ุงุชุจุน ุงูุญู ุงูููุชุฑุญ**

---

## โจ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

| ุงูุญุงูุฉ | ูุจู | ุจุนุฏ |
|--------|------|------|
| **ุฑุณุงูุฉ ุงูุฎุทุฃ** | ุนุงูุฉ ูุบูุฑ ูุงุถุญุฉ | ูุญุฏุฏุฉ ููุงุถุญุฉ ุฌุฏุงู |
| **ุงููุณุชุฎุฏู ูููู** | โ ูุง ูุนุฑู ุงูุณุจุจ | โ ูุนุฑู ุจุงูุถุจุท ุงููุดููุฉ ูุงูุญู |
| **ูุงุจููุฉ ุงูุงุณุชุฎุฏุงู** | โญโญ | โญโญโญโญโญ |

---

## ๐ ุงูุฎูุงุตุฉ

โ ุชู ุญู ุงููุดููุฉ ูู ุฌุงูุจ Frontend
โ ุงูุขู ุงูุฑุณุงุฆู ูุงุถุญุฉ ููููุฉ
โ ุงููุณุชุฎุฏู ูุนุฑู ุจุงูุถุจุท ูุงุฐุง ููุนู

**ุงูุฎุทูุฉ ุงูุชุงููุฉ:** ุชูุงุตู ูุน Backend Developer ุฅุฐุง ูุงู ูุฌุจ ุฃู ูููู ูู Teachers ุตูุงุญูุฉ ุฅูุดุงุก Subjects
