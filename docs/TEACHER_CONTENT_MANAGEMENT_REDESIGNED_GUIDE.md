# Teacher Content Management - Redesigned

## ๐ Overview

ุชู ุฅูุดุงุก ุฏุงุดุจูุฑุฏ **Content Management ูููุนูู** ุจููุณ ุงูุชุตููู ุงูููุนุงุฏ ููู Admin ูุน ุงูุงุญุชูุงุธ ุงููุงูู ุจููุทู ูุตูุงุญูุงุช ูุจูู ุงููุญุชูู ูู ุฎูุงู ุงูู Admin.

## ๐ฏ ุงููุฏู

ุฅูุดุงุก ูุงุฌูุฉ ููุญุฏุฉ ููุชุณูุฉ ูููุนูููู ูุงูุฅุฏุงุฑููู ูุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุชุนููููุ ูุน ุงูุญูุงุธ ุนูู:
- ููุณ ุงูุชุตููู ูุงูู UX/UI ููู Admin
- ุตูุงุญูุงุช ุงููุนูู ุงููุญุฏูุฏุฉ (ุฅูุดุงุก ูุชุนุฏูู ุงูุฏุฑูุณ ููุท)
- **ุตูุงุญูุงุช ูุจูู/ุฑูุถ ุงููุญุชูู ุชุจูู ุญุตุฑูุงู ููู Admin**

## ๐ ุงููููุงุช ุงููููุดุฃุฉ

### 1. TypeScript Component
**ุงููุณุงุฑ:** `src/app/features/teacher/content-management/teacher-content-management-redesigned.ts`

**ุงููููุฒุงุช:**
- ููุณ ุงููููู ูุงูุชุตููู ุงูุฎุงุต ุจู Admin Content Management
- ุฏุนู ูุงูู ูููุฑุงุกุฉ ูุงูุนุฑุถ ูุฌููุน ุงููุญุชููุงุช (Years, Categories, Subjects, etc.)
- ุตูุงุญูุงุช ุงูุชุญุฑูุฑ ูุญุตูุฑุฉ ูู ุงูุฏุฑูุณ (Lessons) ููุท
- ูุญุต ุตูุงุญูุงุช ุงููุนูู ูุจู ุฃู ุนูููุฉ ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู
- ุฑุณุงุฆู ูุงุถุญุฉ ูููุนูู ุนู ุงูุตูุงุญูุงุช ุงููุญุฏูุฏุฉ
- ุฌููุน ุงูุชุบููุฑุงุช ุชูุฑุณู ููููุงููุฉ ูู ุงูู Admin

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:**
```typescript
// Permission Checks
canCreateForSubject(subjectId: number): boolean
canEditForSubject(subjectId: number): boolean  
canDeleteForSubject(subjectId: number): boolean

// CRUD Operations (Lessons only for teachers)
openAdd(type: EntityType): void  // ููุท ููุฏุฑูุณ
openEdit(type: EntityType, entity: any): void  // ููุท ููุฏุฑูุณ
saveEntity(): Promise<void>  // ุฌููุน ุงูุชุบููุฑุงุช ุชุชุทูุจ ููุงููุฉ Admin
deleteItem(type: EntityType, id: Id): Promise<void>  // ููุท ููุฏุฑูุณ
```

### 2. HTML Template
**ุงููุณุงุฑ:** `src/app/features/teacher/content-management/teacher-content-management-redesigned.html`

**ุงููููุฒุงุช:**
- ููุณ ุชุตููู Admin Dashboard ุจุงูุถุจุท
- ุฅุญุตุงุฆูุงุช ุฎุงุตุฉ ุจุงููุนูู (My Lessons, Pending Approval, Authorized Subjects)
- ุฅุดุนุงุฑุงุช ูุงุถุญุฉ ุจุฃู ุฌููุน ุงูุชุบููุฑุงุช ุชุชุทูุจ ููุงููุฉ ุงูู Admin
- ุชุจููุจุงุช ููุนุฑุถ: Hierarchy, Years, Categories, Subject Names, Subjects, Lessons
- ุฌููุน ุงูุชุจููุจุงุช read-only ูุง ุนุฏุง Lessons (ูุน ูุญุต ุงูุตูุงุญูุงุช)
- ุฑุณุงุฆู ุชุญุฐูุฑูุฉ ููุฅุดุงุฑุฉ ุฅูู ุงููุญุชูู ุงููุญุธูุฑ ุชุนุฏููู

**ุงูุฅุญุตุงุฆูุงุช ุงููุนุฑูุถุฉ:**
- My Lessons: ุนุฏุฏ ุงูุฏุฑูุณ ุงูุชู ุฃูุดุฃูุง ุงููุนูู
- Pending Approval: ุนุฏุฏ ุงูุฏุฑูุณ ูู ุงูุชุธุงุฑ ุงูููุงููุฉ
- Authorized Subjects: ุนุฏุฏ ุงูููุงุฏ ุงููุตุฑุญ ูููุนูู ุจุฅุฏุงุฑุชูุง
- Can Create: ุนุฏุฏ ุงูููุงุฏ ุงูุชู ูููู ูููุนูู ุฅูุดุงุก ุฏุฑูุณ ููุง

### 3. SCSS Styles
**ุงููุณุงุฑ:** `src/app/features/teacher/content-management/teacher-content-management-redesigned.scss`

**ุงููููุฒุงุช:**
- ุงุณุชูุฑุงุฏ ููุณ styles ุงูู Admin
- ุฅุถุงูุงุช ุฎุงุตุฉ ุจุงููุนูู:
  - `permission-notice`: ูุนุฑุถ ุฅุดุนุงุฑุงุช ุงูุตูุงุญูุงุช
  - `read-only-badge`: ูุชุญุฏูุฏ ุงููุญุชูู ูููุฑุงุกุฉ ููุท
  - `teacher-stat-card`: ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช ุจุชุตููู ูููุฒ
  - `pending-indicator`: ูุคุดุฑ ูููุญุชูู ูู ุงูุชุธุงุฑ ุงูููุงููุฉ
  - `content-status-badge`: ุดุงุฑุงุช ูุญุงูุฉ ุงููุญุชูู
  - `approval-timeline`: timeline ูุณูุฑ ุนูููุฉ ุงูููุงููุฉ

## ๐ ูุธุงู ุงูุตูุงุญูุงุช

### ุตูุงุญูุงุช ุงููุนูู (Teacher Permissions)

#### โ ูุง ูููู ูููุนูู ูุนูู:
1. **ุนุฑุถ ุฌููุน ุงููุญุชููุงุช** (Read-Only):
   - Years (ุงูุณููุงุช ุงูุฏุฑุงุณูุฉ)
   - Categories (ุงููุฆุงุช)
   - Subject Names (ุฃุณูุงุก ุงูููุงุฏ)
   - Subjects (ุงูููุงุฏ)
   - Terms (ุงููุตูู)
   - Weeks (ุงูุฃุณุงุจูุน)
   - Lessons (ุงูุฏุฑูุณ)

2. **ุฅูุดุงุก ูุชุนุฏูู ุงูุฏุฑูุณ** (ููููุงุฏ ุงููุตุฑุญ ูู ุจูุง):
   - ุฅูุดุงุก ุฏุฑูุณ ุฌุฏูุฏุฉ
   - ุชุนุฏูู ุงูุฏุฑูุณ ุงูููุฌูุฏุฉ
   - ุญุฐู ุงูุฏุฑูุณ
   - ุฅุฏุงุฑุฉ ููุงุฑุฏ ุงูุฏุฑูุณ (Resources)

3. **ุชุชุจุน ุญุงูุฉ ุงููุญุชูู**:
   - ูุนุฑูุฉ ุญุงูุฉ ุงูููุงููุฉ (Created, Pending, Approved, Rejected, etc.)
   - ุนุฑุถ ุณุฌู ุงูููุงููุงุช (Approval History)
   - ูุฑุงุกุฉ ููุงุญุธุงุช ุงููุฑุงุฌุนุฉ ูู ุงูู Admin

#### โ ูุง ูุง ูููู ูููุนูู ูุนูู:
1. **ุฅูุดุงุก ุฃู ุชุนุฏูู**:
   - Years (ุงูุณููุงุช)
   - Categories (ุงููุฆุงุช)
   - Subject Names (ุฃุณูุงุก ุงูููุงุฏ)
   - Subjects (ุงูููุงุฏ)
   - Terms (ุงููุตูู)
   - Weeks (ุงูุฃุณุงุจูุน)

2. **ุงูููุงููุฉ ุนูู ุงููุญุชูู**:
   - โ **ูุฐู ุงูุตูุงุญูุฉ ุญุตุฑูุฉ ููู Admin ููุท**
   - ูุง ูููู ูููุนูู ุงูููุงููุฉ ุนูู ูุญุชูุงู ุงูุฎุงุต
   - ูุง ูููู ูููุนูู ุงูููุงููุฉ ุนูู ูุญุชูู ูุนูููู ุขุฎุฑูู
   - ูุง ูููู ูููุนูู ูุดุฑ ุงููุญุชูู ูุจุงุดุฑุฉ ููุทูุงุจ

### ุตูุงุญูุงุช ุงูู Admin (Admin Permissions)

#### โ ุตูุงุญูุงุช ุงูู Admin ุงูุญุตุฑูุฉ:
1. **ุงูููุงููุฉ ุนูู ุงููุญุชูู** (Approve/Reject):
   - ุงูููุงููุฉ ุนูู ุงูุฏุฑูุณ ุงููููุดุฃุฉ ูู ุงููุนูููู
   - ุฑูุถ ุงููุญุชูู ูุน ุชูุถูุญ ุงูุณุจุจ
   - ุทูุจ ูุฑุงุฌุนุฉ ูุชุนุฏูู (Request Revision)
   - ูุดุฑ ุงููุญุชูู ููุทูุงุจ (Publish)

2. **ุฅุฏุงุฑุฉ ูุงููุฉ ูููุญุชูู**:
   - ุฅูุดุงุก ูุชุนุฏูู ูุญุฐู ุฌููุน ุฃููุงุน ุงููุญุชูู
   - ุฅุฏุงุฑุฉ ุตูุงุญูุงุช ุงููุนูููู
   - ุชุนููู ุงููุนูููู ููููุงุฏ
   - ุงูููุงููุฉ ุงููุฌูุนุฉ (Bulk Approval)

## ๐ ุณูุฑ ุนูู ุงูููุงููุฉ (Approval Workflow)

```
1. ุงููุนูู ููุดุฆ ุฏุฑุณ ุฌุฏูุฏ
   โ
   Status: CREATED (ูุฎูู ุนู ุงูุทูุงุจ)
   
2. ุงููุนูู ูุฑุณู ููููุงููุฉ
   โ
   Status: PENDING/SUBMITTED (ูู ุงูุชุธุงุฑ Admin)
   
3. Admin ูุฑุงุฌุน ุงููุญุชูู:
   
   ุฃ) ุงูููุงููุฉ:
      โ
      Status: APPROVED โ PUBLISHED (ูุฑุฆู ููุทูุงุจ)
   
   ุจ) ุงูุฑูุถ:
      โ
      Status: REJECTED (ูุนูุฏ ูููุนูู ูุน ุงูุณุจุจ)
   
   ุฌ) ุทูุจ ุงููุฑุงุฌุนุฉ:
      โ
      Status: REVISION_REQUESTED (ูุนูุฏ ูููุนูู ููุชุนุฏูู)
      โ
      ุงููุนูู ูุนุฏู ููุนูุฏ ุงูุฅุฑุณุงู
      โ
      ูุนูุฏ ููุฎุทูุฉ 2
```

## ๐ก๏ธ ุงูุญูุงูุฉ ุนูู ูุณุชูู Backend

### API Endpoints Protection

#### endpoints ุงูููุชูุญุฉ ูููุนูููู:
```typescript
POST /api/Lessons              // ุฅูุดุงุก ุฏุฑุณ (ูุชุทูุจ ุตูุงุญูุฉ)
PUT /api/Lessons/{id}          // ุชุนุฏูู ุฏุฑุณ (ูุชุทูุจ ุตูุงุญูุฉ)
DELETE /api/Lessons/{id}       // ุญุฐู ุฏุฑุณ (ูุชุทูุจ ุตูุงุญูุฉ)
GET /api/TeacherContent/*      // ุนุฑุถ ูุญุชูู ุงููุนูู
```

#### Endpoints ุงููุญููุฉ (Admin Only):
```typescript
POST /api/TeacherContent/approve/{itemType}/{itemId}
   [Authorize(Policy = "AdminOnly")]
   // ุงูููุงููุฉ ุนูู ุงููุญุชูู

POST /api/TeacherContent/reject/{itemType}/{itemId}
   [Authorize(Policy = "AdminOnly")]
   // ุฑูุถ ุงููุญุชูู

POST /api/TeacherContent/request-revision/{itemType}/{itemId}
   [Authorize(Policy = "AdminOnly")]
   // ุทูุจ ูุฑุงุฌุนุฉ

POST /api/TeacherContent/publish/{itemType}/{itemId}
   [Authorize(Policy = "AdminOnly")]
   // ูุดุฑ ุงููุญุชูู

POST /api/TeacherContent/bulk-approve
   [Authorize(Policy = "AdminOnly")]
   // ุงูููุงููุฉ ุงููุฌูุนุฉ
```

## ๐ง ุงูุชูุงูู ูุน ุงูุฎุฏูุงุช

### TeacherContentManagementService

ุงูุฎุฏูุฉ ุชุญุชูู ุนูู ุฌููุน ุงููุธุงุฆู ุงููุทููุจุฉ ูุน ุงูุชูุซูู ุงููุงุถุญ:

```typescript
// โ ูุชุงุญ ูููุนูู
createLesson(lessonData: any): Observable<any>
updateLesson(lessonId: number, lessonData: any): Observable<any>
deleteLesson(lessonId: number): Observable<void>
submitContent(itemType: string, itemId: number): Observable<ContentItem>

// โ ูููุฑุงุกุฉ ููุท
getMySubjects(): Observable<TeacherSubject[]>
getMyContent(filters?: ContentFilterDto): Observable<ContentItem[]>
getApprovalHistory(itemType: string, itemId: number): Observable<ApprovalHistoryDto[]>

// ๐ Admin ููุท (ููุซูุฉ ูู ุงูููุฏ)
// ูุฐู ุงููุธุงุฆู ููุฌูุฏุฉ ููุงุณุชุฎุฏุงู ูู ูุจู Admin ููุท
bulkApproveContent(bulkApprovalData: any): Observable<any>  // Admin only
```

## ๐ฑ Responsive Design

ุงูุชุตููู ูุชุฌุงูุจ ุชูุงูุงู ูุน ุฌููุน ุงูุดุงุดุงุช:
- Desktop: ุนุฑุถ ูุงูู ูุฌููุน ุงูุฅุญุตุงุฆูุงุช ูุงูุชุจููุจุงุช
- Tablet: ุชุฎุทูุท ูุชููู ูุน grid responsive
- Mobile: ุชุจููุจุงุช ูุงุจูุฉ ููุชูุฑูุฑุ ุฅุญุตุงุฆูุงุช ููุฏุณุฉ ุนููุฏูุงู

## ๐จ ุงูุชุตููู ุงููุฑุฆู

### ุงูุฃููุงู ูุงูู Themes:
- **Primary Color**: Blue (#3b82f6) - ููุนูุงุตุฑ ุงูุฃุณุงุณูุฉ
- **Success Color**: Green (#22c55e) - ููููุงููุงุช
- **Warning Color**: Yellow (#f59e0b) - ููุงูุชุธุงุฑ
- **Danger Color**: Red (#ef4444) - ููุฑูุถ
- **Purple Gradient**: ููุฃุฒุฑุงุฑ ุงูุฎุงุตุฉ ุจุฅูุดุงุก ุงููุญุชูู

### Status Badges:
- `CREATED`: Blue - ุชู ุงูุฅูุดุงุก
- `PENDING`: Yellow - ูู ุงูุชุธุงุฑ ุงูููุงููุฉ
- `APPROVED`: Green - ุชูุช ุงูููุงููุฉ
- `REJECTED`: Red - ูุฑููุถ
- `REVISION_REQUESTED`: Orange - ูุญุชุงุฌ ูุฑุงุฌุนุฉ

## ๐ ุงูุงุณุชุฎุฏุงู

### ูููุตูู ุฅูู ุงูุฏุงุดุจูุฑุฏ:

```
URL: /teacher/content-management-redesigned
Role Required: Teacher
Authentication: Required
```

### ูุซุงู ุนูู ุงุณุชุฎุฏุงู ุงููุนูู:

1. ุชุณุฌูู ุงูุฏุฎูู ููุนูู
2. ุงูุงูุชูุงู ุฅูู `/teacher/content-management-redesigned`
3. ุนุฑุถ ุงูููุงุฏ ุงููุตุฑุญ ูู ุจุฅุฏุงุฑุชูุง
4. ุฅูุดุงุก ุฏุฑุณ ุฌุฏูุฏ ููุงุฏุฉ ูุตุฑุญ ุจูุง
5. ููุก ุจูุงูุงุช ุงูุฏุฑุณ ูุฅุฑูุงู ุงููููุงุช
6. ุญูุธ (Status: CREATED)
7. ุฅุฑุณุงู ููููุงููุฉ (Status: PENDING)
8. ุงูุชุธุงุฑ ููุงููุฉ ุงูู Admin
9. ุจุนุฏ ุงูููุงููุฉ: ุงูุฏุฑุณ ูุตุจุญ ูุฑุฆูุงู ููุทูุงุจ

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. ุงูุฃูุงู ูุงูุตูุงุญูุงุช:
- โ ุฌููุน ุนูููุงุช ุงูููุงููุฉ ูุญููุฉ ุนูู ูุณุชูู Backend
- โ ุงููุนูู ูุง ููููู ุงููุตูู ูู API endpoints ุงูุฎุงุตุฉ ุจุงูููุงููุฉ
- โ ูุญุต ุงูุตูุงุญูุงุช ูุชู ุนูู ูุณุชูู Frontend ู Backend
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูู ุญุงูุฉ ูุญุงููุฉ ุงููุตูู ุบูุฑ ุงููุตุฑุญ

### 2. ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:
- ุฅุดุนุงุฑุงุช ูุงุถุญุฉ ูููุนูู ุจุงูุตูุงุญูุงุช ุงููุญุฏูุฏุฉ
- ุฑุณุงุฆู ุชูุถูุญูุฉ ุนูุฏ ูุญุงููุฉ ุชุนุฏูู ูุญุชูู ูุญุธูุฑ
- ุนุฑุถ ุญุงูุฉ ุงูููุงููุฉ ุจุดูู ูุฑุฆู
- ุฅููุงููุฉ ุชุชุจุน ุณุฌู ุงูููุงููุงุช

### 3. ุงูุชูุงูู:
- ูุชูุงูู ุชูุงูุงู ูุน ูุธุงู ุงูููุงููุงุช ุงูููุฌูุฏ
- ูุง ูุคุซุฑ ุนูู ุตูุงุญูุงุช ุงูู Admin ุงูุญุงููุฉ
- ูุณุชุฎุฏู ููุณ APIs ุงูููุฌูุฏุฉ
- ููุณ ุงูุชุตููู ูุงูู UX ููู Admin

## ๐ Updates ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

1. **Notifications System**:
   - ุฅุดุนุงุฑุงุช ููุฑูุฉ ุนูุฏ ุงูููุงููุฉ/ุงูุฑูุถ
   - ุชูุจููุงุช ุนูุฏ ุทูุจ ุงููุฑุงุฌุนุฉ

2. **Enhanced Analytics**:
   - ุฅุญุตุงุฆูุงุช ููุตูุฉ ูุฃุฏุงุก ุงููุญุชูู
   - ูุนุฏูุงุช ุงูููุงููุฉ ูุงูุฑูุถ

3. **Collaboration Features**:
   - ุชุนูููุงุช ูู ุงูู Admin ุนูู ุงููุญุชูู
   - ูุธุงู ุฑุณุงุฆู ุจูู ุงููุนูู ูุงูู Admin

4. **Bulk Operations**:
   - ุฅููุงููุฉ ุฅูุดุงุก ุนุฏุฉ ุฏุฑูุณ ุฏูุนุฉ ูุงุญุฏุฉ
   - ููุงูุจ ุฌุงูุฒุฉ ููุฏุฑูุณ

## ๐ ุงููููุงุช ุฐุงุช ุงูุตูุฉ

- Component: `teacher-content-management-redesigned.ts`
- Template: `teacher-content-management-redesigned.html`
- Styles: `teacher-content-management-redesigned.scss`
- Service: `teacher-content-management.service.ts`
- Routes: `app.routes.ts` (ุชู ุฅุถุงูุฉ ุงููุณุงุฑ ุงูุฌุฏูุฏ)

## โ ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ุฏุงุดุจูุฑุฏ Content Management ูููุนูู ุจูุฌุงุญ ูุน:
- โ ููุณ ุงูุชุตููู ูุงููุงุฌูุฉ ููู Admin
- โ ุตูุงุญูุงุช ูุญุฏูุฏุฉ ูููุนูู (ุฏุฑูุณ ููุท)
- โ ุงูุญูุงุธ ุงููุงูู ุนูู ุตูุงุญูุงุช ุงูููุงููุฉ ููู Admin
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ ูุฑุณุงุฆู ูุงุถุญุฉ
- โ ุฃูุงู ูุงูู ุนูู ูุณุชูู Frontend ู Backend
- โ ุชุตููู ูุชุฌุงูุจ ูุนุตุฑู

ุฌููุน ุงูุชุบููุฑุงุช ุงูุชู ูููู ุจูุง ุงููุนูู ุชูุฑ ุนุจุฑ ูุธุงู ุงูููุงููุฉ ููุง ูููู ูุดุฑูุง ููุทูุงุจ ุฅูุง ุจุนุฏ ููุงููุฉ ุงูู Admin.
