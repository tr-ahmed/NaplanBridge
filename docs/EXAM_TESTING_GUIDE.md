# ๐งช ุฏููู ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน - Quick Testing Guide

## ๐ฏ ุงุฎุชุจุงุฑ ูุธุงู ุงูุงูุชุญุงูุงุช ููุทุงูุจ

### ๐ Pre-requisites
- Backend API ูุนูู ุนูู `http://localhost:8000`
- Proxy configuration ุตุญูุญุฉ
- User ูุณุฌู ูุทุงูุจ Student

---

## ๐ ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ ููุงุฎุชุจุงุฑ

### 1๏ธโฃ ุชุณุฌูู ุงูุฏุฎูู ูุทุงูุจ
```
1. ุงูุชุญ http://localhost:4200/auth/login
2. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุทุงูุจ
3. ุงุฎุชุฑ ุฏูุฑ "Student" ุฅุฐุง ุทููุจ
```

### 2๏ธโฃ ุงูุฐูุงุจ ูุตูุญุฉ ุงูุงูุชุญุงูุงุช
```
1. ุงูุชูู ุฅูู: http://localhost:4200/student/exams
2. ูุฌุจ ุฃู ุชุธูุฑ ูุงุฆูุฉ ุงูุงูุชุญุงูุงุช ุงููุงุฏูุฉ
```

### 3๏ธโฃ ุจุฏุก ุงูุชุญุงู
```
1. ุงุถุบุท "Start Exam" ุนูู ุฃู ุงูุชุญุงู ูุชุงุญ
2. ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ุชุฃููุฏ
3. ุงุถุบุท "OK"
4. ูุฌุจ ุฃู ุชูุชูู ุฅูู ุตูุญุฉ ุงูุงูุชุญุงู
```

### 4๏ธโฃ ุงุฎุชุจุงุฑ ุงูุญูุธ ุงูุชููุงุฆู
```
1. ุฃุฌุจ ุนูู ุณุคุงู ุฃู ุงุซููู
2. ุงูุชุญ DevTools (F12)
3. ุงุฐูุจ ุฅูู: Application โ Local Storage โ http://localhost:4200
4. โ ูุฌุจ ุฃู ุชุฑู ููุชุงุญ ุจุตูุบุฉ: exam_state_<ุฑูู>
5. ุงููุฑ ุนููู ูุฑุคูุฉ ุงูุจูุงูุงุช ุงููุญููุธุฉ
```

### 5๏ธโฃ ุงุฎุชุจุงุฑ ุงูุฎุฑูุฌ ูุงูุนูุฏุฉ
```
1. ูุฃูุช ูู ุงูุงูุชุญุงูุ ุฃุฌุจ ุนูู 3 ุฃุณุฆูุฉ
2. ูุงุญุธ ุงูููุช ุงููุชุจูู (ูุซูุงู: 58:45)
3. ุฃุบูู ุงูุชุจููุจ (Tab)
4. ุงูุชุญ ุชุจููุจ ุฌุฏูุฏ
5. ุงุฐูุจ ุฅูู: http://localhost:4200/student/exams
6. ุงุถุบุท "Start Exam" ุนูู ููุณ ุงูุงูุชุญุงู
7. โ ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ: "ูู ุชุฑูุฏ ุงููุชุงุจุนุฉ ูู ุญูุซ ุชูููุชุ"
8. ุงุถุบุท "OK"
9. โ ูุฌุจ ุฃู ุชุฌุฏ ุฅุฌุงุจุงุชู ูุงูููุช ุชูุฑูุจุงู ููุง ูุงู
```

### 6๏ธโฃ ุงุฎุชุจุงุฑ ุชุญุฐูุฑ ุงูุฎุฑูุฌ
```
1. ูุฃูุช ูู ุตูุญุฉ ุงูุงูุชุญุงู
2. ุญุงูู ุฅุบูุงู ุงูุชุจููุจ (ุงุถุบุท X)
3. โ ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ูู ุงููุชุตูุญ ุชุญุฐุฑู
```

### 7๏ธโฃ ุงุฎุชุจุงุฑ ุงูุชูุงุก ุงูููุช
```
Option A: ุงูุชุธุฑ ุญุชู ููุชูู ุงูููุช ุทุจูุนูุงู
Option B: ุงุฎุชุจุงุฑ ุณุฑูุน:
  1. ุงูุชุญ DevTools โ Console
  2. ุงูุชุจ:
     localStorage.getItem(Object.keys(localStorage).find(k => k.startsWith('exam_state')))
  3. ุงูุณุฎ ุงููููุฉ
  4. ุนุฏูู timeRemaining ุฅูู 10
  5. ุงุญูุธูุง ูุฑุฉ ุฃุฎุฑู
  6. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ
  7. โ ูุฌุจ ุฃู ููุชูู ุงูููุช ุจุนุฏ 10 ุซูุงู ูููุฑุณู ุชููุงุฆูุงู
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก - Troubleshooting

### โ Problem: ูุง ุชุธูุฑ ุงูุงูุชุญุงูุงุช
**Solution:**
```
1. ุชุญูู ูู Console (F12)
2. ุงุจุญุซ ุนู ุฃุฎุทุงุก API
3. ุชุฃูุฏ ูู ุฃู Backend ูุนูู
4. ุชุญูู ูู response ูู Network tab
```

### โ Problem: ูุง ูุญูุธ ุงูุญุงูุฉ
**Solution:**
```
1. ุชุฃูุฏ ูู ุฃู localStorage ููุณ ููุชูุฆ
2. ุงูุชุญ Application โ Local Storage
3. ุงุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ ุฅุฐุง ูุฒู
4. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ
```

### โ Problem: ุงูููุช ูุง ูุณุชูุฑ
**Solution:**
```
1. ุงูุชุญ localStorage
2. ุชุญูู ูู ูุฌูุฏ savedAt
3. ุชุญูู ูู timeRemaining
4. ุฑุงุฌุน Console ูุฃู ุฃุฎุทุงุก ูู calculateTime
```

### โ Problem: ุงูุชุญุฐูุฑ ูุง ูุธูุฑ ุนูุฏ ุงูุฎุฑูุฌ
**Solution:**
```
ุจุนุถ ุงููุชุตูุญุงุช ุชููุน beforeunload ูู ุจุนุถ ุงูุญุงูุงุช
ุฌุฑูุจ:
- Chrome/Edge: ูุนูู ุจุดูู ุฌูุฏ
- Firefox: ูุฏ ูุญุชุงุฌ ุชูุงุนู ูุณุจู
- Safari: ูุฏ ูุง ูุนูู ูู ุจุนุถ ุงูุญุงูุงุช
```

---

## ๐ Local Storage Structure

ุนูุฏ ูุชุญ DevTools โ Application โ Local Storageุ ูุฌุจ ุฃู ุชุฑู:

```json
{
  "exam_state_123": {
    "studentExamId": 123,
    "exam": { /* exam object */ },
    "currentQuestionIndex": 2,
    "answers": [
      [1, { "examQuestionId": 1, "selectedOptionId": 5 }],
      [2, { "examQuestionId": 2, "answerText": "..." }]
    ],
    "timeRemaining": 3420,
    "examStartTime": "2025-01-20T10:00:00.000Z",
    "savedAt": "2025-01-20T10:15:30.000Z"
  }
}
```

---

## โ Checklist ููุงุฎุชุจุงุฑ ุงููุงูู

- [ ] ุชุณุฌูู ุฏุฎูู ูุทุงูุจ
- [ ] ุนุฑุถ ูุงุฆูุฉ ุงูุงูุชุญุงูุงุช
- [ ] ุจุฏุก ุงูุชุญุงู ุฌุฏูุฏ
- [ ] ุงูุฅุฌุงุจุฉ ุนูู ุฃุณุฆูุฉ ูุฎุชููุฉ ุงูุฃููุงุน:
  - [ ] Text Answer
  - [ ] Multiple Choice
  - [ ] Multiple Select
  - [ ] True/False
- [ ] ุฑุคูุฉ ุงูุนุฏุงุฏ ูุนูู
- [ ] ุญูุธ ุงูุฅุฌุงุจุงุช ูู localStorage
- [ ] ุงูุฎุฑูุฌ ูุงูุนูุฏุฉ ูุงุณุชุนุงุฏุฉ ุงูุญุงูุฉ
- [ ] ุฑูุถ ุงูุงุณุชุนุงุฏุฉ ูุงูุจุฏุก ูู ุฌุฏูุฏ
- [ ] ุชุญุฐูุฑ ุนูุฏ ูุญุงููุฉ ุงูุฎุฑูุฌ
- [ ] ุฅุฑุณุงู ุงูุงูุชุญุงู ุจูุฌุงุญ
- [ ] ุนุฑุถ ุงููุชูุฌุฉ (ุฅุฐุง ูุชููุฑ)

---

## ๐ง API Endpoints ูููุทูุฑ

### Check if backend is ready:
```bash
curl http://localhost:8000/api/exam/student/1/upcoming
```

Expected response:
```json
{
  "data": {
    "exams": [...]
  }
}
```

### Start exam:
```bash
curl -X POST http://localhost:8000/api/exam/1/start \
  -H "Authorization: Bearer <token>" \
  -H "Accept: application/json"
```

Expected response:
```json
{
  "studentExamId": 123,
  "message": "Exam started successfully"
}
```

---

## ๐ ููุงุญุธุงุช ูููุทูุฑ

### ููุชุฌุฑุจุฉ ุงูุณุฑูุนุฉ ุจุฏูู backend:
ููููู ุชุนุฏูู `loadExamData()` ูุคูุชุงู ูุงุณุชุฎุฏุงู mock data:

```typescript
loadExamData() {
  // Mock data for testing
  const mockExam: ExamDto = {
    id: 1,
    title: 'ุงูุชุญุงู ุชุฌุฑูุจู',
    subjectName: 'ุงูุฑูุงุถูุงุช',
    durationInMinutes: 60,
    questions: [
      {
        id: 1,
        questionText: 'ูุง ูู ูุงุชุฌ 2+2ุ',
        questionType: QuestionType.MultipleChoice,
        marks: 5,
        options: [
          { id: 1, optionText: '3', isCorrect: false },
          { id: 2, optionText: '4', isCorrect: true },
          { id: 3, optionText: '5', isCorrect: false }
        ]
      }
    ]
  };
  
  this.exam.set(mockExam);
  this.examStartTime.set(new Date());
  this.timeRemaining.set(60 * 60); // 60 minutes
  this.startTimer();
  this.startAutoSave();
  this.loading.set(false);
}
```

---

**ุชุงุฑูุฎ:** 2025-01-20  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ
