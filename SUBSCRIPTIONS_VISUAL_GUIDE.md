# ğŸ“¸ Subscription Plans Form - Visual Guide

## Overview of Changes

This document provides a visual walkthrough of all the enhancements made to the subscription plans form.

---

## ğŸ”„ Form Changes Overview

### BEFORE vs AFTER Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      OLD VERSION (BEFORE)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Plan Name:     [____________]                                    â”‚
â”‚ Description:   [________________________]                         â”‚
â”‚ Plan Type:     [Dropdown: Select Type]                          â”‚
â”‚ Price:         [0.00]                                            â”‚
â”‚ Subject ID:    [1]  â† Manual ID entry, confusing âŒ             â”‚
â”‚ Term ID:       [1]  â† Manual ID entry, no validation âŒ         â”‚
â”‚ Year ID:       [0]                                               â”‚
â”‚ Active:        [âœ“] Active Plan                                  â”‚
â”‚                                                                  â”‚
â”‚                [Create]  [Cancel]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NEW VERSION (AFTER)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Plan Name:     [____________]                                    â”‚
â”‚ Description:   [________________________]                         â”‚
â”‚ Plan Type:     [Dropdown: Select Type]                          â”‚
â”‚ Price:         [0.00]                                            â”‚
â”‚ Subject:       [â–¼ Select Subject    ]  â† Dropdown with names âœ… â”‚
â”‚                 â”œâ”€ Mathematics                                    â”‚
â”‚                 â”œâ”€ English                                       â”‚
â”‚                 â”œâ”€ Science                                       â”‚
â”‚                 â””â”€ ...more                                       â”‚
â”‚ Term:          [â–¼ Select Term       ] â† Auto-populated âœ…       â”‚
â”‚                 â”œâ”€ Term 1 (Term 1)                              â”‚
â”‚                 â”œâ”€ Term 2 (Term 2)                              â”‚
â”‚                 â””â”€ ...auto-selected â­                          â”‚
â”‚ Year ID:       [0]                                               â”‚
â”‚ Active:        [âœ“] Active Plan                                  â”‚
â”‚                                                                  â”‚
â”‚                [Create]  [Cancel]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1ï¸âƒ£ Subject Dropdown Feature

### UI Layout
```
Subject Selection:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Subject *                     â”‚  â† Label with asterisk (required)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ Select Subject             â”‚  â† Dropdown button
â”‚ (Click to see list)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When clicked:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ Select Subject (selected)  â”‚
â”‚ â”œâ”€ Mathematics               â”‚  â† Option with subject name
â”‚ â”œâ”€ English                   â”‚
â”‚ â”œâ”€ Science                   â”‚
â”‚ â”œâ”€ Physical Education        â”‚
â”‚ â”œâ”€ Arabic                    â”‚
â”‚ â”œâ”€ Social Studies            â”‚
â”‚ â”œâ”€ Computer Science          â”‚
â”‚ â””â”€ History                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Code Implementation

**HTML:**
```html
<select [(ngModel)]="currentPlan.subjectId" 
        (change)="onSubjectChange(currentPlan.subjectId || 0)"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg">
  <option [value]="0">Select Subject</option>
  @for (subject of subjects; track subject.id) {
    <option [value]="subject.id">{{ subject.name }}</option>
  }
</select>
```

**TypeScript (Loading Data):**
```typescript
loadSubjects(): void {
  this.http.get<Subject[]>(`${environment.apiBaseUrl}/Subjects`)
    .subscribe({
      next: (data) => {
        this.subjects = data;  // â† All subjects stored here
        console.log('Subjects loaded:', data);
      },
      error: (error) => {
        Swal.fire('Error', 'Failed to load subjects', 'error');
      }
    });
}
```

---

## 2ï¸âƒ£ Cascading Term Dropdown

### User Interaction Flow

```
User Flow Diagram:

1. Page loads
   â†“
   [Subjects loaded from API]
   â†“
2. Click "Add Plan" button
   â†“
   [Modal opens with empty form]
   â†“
3. Subject dropdown: [â–¼ Select Subject]
   â”œâ”€ Term dropdown: [â–¼ Select Term] (DISABLED - grayed out)
   â”‚
4. Select a Subject: "Mathematics"
   â†“
   [onSubjectChange() triggered]
   â†“
   [API call: GET /api/Terms/by-subject/1]
   â†“
   [Terms loaded: Term 1, Term 2, Term 3]
   â†“
5. Term dropdown: [â–¼ Term 1 (selected automatically)]  â† ENABLED & AUTO-FILLED
   â”œâ”€ Term 1 (Term 1) â† Auto-selected âœ“
   â”œâ”€ Term 2 (Term 2)
   â””â”€ Term 3 (Term 3)
```

### Visual State Changes

```
BEFORE Subject Selection:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Subject: [â–¼ Select Subject]  â”‚ ENABLED (clickable)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Term:    [_______________]   â”‚ DISABLED (grayed out)
â”‚          (Click subject first)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AFTER Subject Selection (e.g., "Mathematics"):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Subject: [â–¼ Mathematics âœ“]   â”‚ ENABLED (selected)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Term:    [â–¼ Term 1 (Term 1)]â”‚ ENABLED (auto-selected)
â”‚          â””â”€ Term 2 (Term 2) â”‚
â”‚          â””â”€ Term 3 (Term 3) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

WHEN CHANGING SUBJECT to "Science":
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Subject: [â–¼ Science âœ“]       â”‚ ENABLED (new selection)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Term:    [â–¼ Term 1 (Term 1)]â”‚ ENABLED (auto-updated with new terms)
â”‚          â””â”€ Term 2 (Term 2) â”‚
â”‚          â””â”€ Term 3 (Term 3) â”‚
â”‚          (Different terms    â”‚
â”‚           from Science)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Code Implementation

**HTML (Disabled State):**
```html
<select [(ngModel)]="currentPlan.termId"
        [disabled]="!currentPlan.subjectId || currentPlan.subjectId === 0"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg
               disabled:bg-gray-100 disabled:cursor-not-allowed">
  <option [value]="0">Select Term</option>
  @for (term of filteredTerms; track term.id) {
    <option [value]="term.id">{{ term.name }} (Term {{ term.termNumber }})</option>
  }
</select>
```

**TypeScript (Auto-Selection & Loading):**
```typescript
onSubjectChange(subjectId: number): void {
  if (subjectId && subjectId > 0) {
    // Load terms for selected subject
    this.http.get<Term[]>(`${environment.apiBaseUrl}/Terms/by-subject/${subjectId}`)
      .subscribe({
        next: (data) => {
          this.filteredTerms = data;
          
          // â­ AUTO-SELECT FIRST TERM
          if (data.length > 0) {
            this.currentPlan.termId = data[0].id;
            console.log('Auto-selected term:', data[0].name);
          }
        },
        error: (error) => {
          console.error('Error loading terms:', error);
          this.filteredTerms = [];
        }
      });
  } else {
    this.filteredTerms = [];
    this.currentPlan.termId = 0;
  }
}
```

---

## 3ï¸âƒ£ Table Column Changes

### BEFORE: Table with ID Display

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Plan Name      â”‚ Description      â”‚ Price  â”‚ Status â”‚ Actions  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Plan A         â”‚ Math basics      â”‚ $50.00 â”‚ Active â”‚ âœï¸ ğŸ—‘ï¸   â”‚
â”‚ Plan B         â”‚ Science intro    â”‚ $75.00 â”‚ Active â”‚ âœï¸ ğŸ—‘ï¸   â”‚
â”‚ Plan C         â”‚ English course   â”‚ $60.00 â”‚ Active â”‚ âœï¸ ğŸ—‘ï¸   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Problem:
âŒ No subject information displayed
âŒ No term information shown
âŒ Description might not be meaningful
```

### AFTER: Table with Name Display

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Plan Name      â”‚ Subject      â”‚ Term     â”‚ Price  â”‚ Status â”‚ Actions  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Math T1        â”‚ Mathematics  â”‚ Term 1   â”‚ $50.00 â”‚ Active â”‚ âœï¸ ğŸ—‘ï¸   â”‚
â”‚ Science Intro  â”‚ Science      â”‚ Term 2   â”‚ $75.00 â”‚ Active â”‚ âœï¸ ğŸ—‘ï¸   â”‚
â”‚ English Basic  â”‚ English      â”‚ Term 1   â”‚ $60.00 â”‚ Active â”‚ âœï¸ ğŸ—‘ï¸   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Improvements:
âœ… Subject name clearly displayed (not ID)
âœ… Term number clearly displayed
âœ… Easy to understand at a glance
âœ… Better data organization
```

### Code Implementation

**HTML (Table Headers):**
```html
<th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
  Plan Name
</th>
<th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
  Subject  â† NEW COLUMN
</th>
<th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
  Term     â† NEW COLUMN
</th>
<th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
  Price
</th>
<th class="px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
  Status
</th>
<th class="px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider">
  Actions
</th>
```

**HTML (Table Rows):**
```html
@for (plan of pagedPlans; track plan.planId || plan.id) {
  <tr class="hover:bg-gray-50 transition-colors">
    <td class="px-6 py-4 font-medium text-gray-900">
      {{ plan.name }}
    </td>
    
    <!-- Subject Name (not ID) -->
    <td class="px-6 py-4 text-gray-600">
      {{ getSubjectName(plan.subjectId) }}  â† Calls helper method
    </td>
    
    <!-- Term Number -->
    <td class="px-6 py-4 text-gray-600">
      {{ plan.termNumber ? 'Term ' + plan.termNumber : '-' }}
    </td>
    
    <td class="px-6 py-4 text-gray-900 font-semibold">
      ${{ plan.price }}
    </td>
    
    <td class="px-6 py-4">
      <span [class]="isPlanActive(plan) ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'"
            class="px-2 py-1 text-xs font-semibold rounded-full">
        {{ isPlanActive(plan) ? 'Active' : 'Inactive' }}
      </span>
    </td>
    
    <td class="px-6 py-4">
      <div class="flex justify-end gap-2">
        <button (click)="openEditPlanModal(plan)" title="Edit">
          <i class="fas fa-edit"></i>
        </button>
        <button (click)="deactivatePlan(plan.planId)" title="Delete">
          <i class="fas fa-trash"></i>
        </button>
      </div>
    </td>
  </tr>
}
```

**TypeScript (Display Helpers):**
```typescript
getSubjectName(subjectId?: number): string {
  if (!subjectId) return 'Select Subject';
  const subject = this.subjects.find(s => s.id === subjectId);
  return subject ? subject.name : `Subject #${subjectId}`;
}

getTermName(termId?: number): string {
  if (!termId) return 'Select Term';
  const term = this.filteredTerms.find(t => t.id === termId);
  return term ? `${term.name} (Term ${term.termNumber})` : `Term #${termId}`;
}
```

---

## 4ï¸âƒ£ Modal Edit Mode

### Edit Mode Flow

```
User clicks Edit button on a plan:
   â†“
openEditPlanModal(plan) called
   â†“
Modal opens with "Edit Subscription Plan" title
   â†“
Form pre-filled with:
â”œâ”€ Plan Name: [existing name]
â”œâ”€ Description: [existing description]
â”œâ”€ Plan Type: [existing type selected]
â”œâ”€ Price: [existing price]
â”œâ”€ Subject: [existing subject selected]  â† Already selected
â”œâ”€ Term: [existing term selected]       â† Auto-loaded for that subject
â”œâ”€ Year ID: [existing year]
â””â”€ Active: [existing state]
   â†“
If user changes Subject:
â”œâ”€ onSubjectChange() triggered
â”œâ”€ Terms for new subject loaded from API
â”œâ”€ First term auto-selected
â””â”€ User can change term if needed
   â†“
Click "Update" button
   â†“
Plan updated with new values
```

### Code Implementation

```typescript
openEditPlanModal(plan: SubscriptionPlan): void {
  this.isEditMode = true;
  this.currentPlan = { ...plan };
  this.showPlanModal = true;
  
  // Load terms for the plan's subject
  if (this.currentPlan.subjectId) {
    this.onSubjectChange(this.currentPlan.subjectId);
  }
}
```

---

## 5ï¸âƒ£ Data Flow Diagram

### Complete Request/Response Flow

```
                        FRONTEND (Angular Component)
                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. PAGE INITIALIZATION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ngOnInit()                      â”‚
   â”‚  â”œâ”€ loadPlans()                â”‚
   â”‚  â””â”€ loadSubjects()  â—„â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /api/Subjects                       â”‚ â—„â”€â”€â”€ HTTP REQUEST
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â–²
                                  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ BACKEND (API)   â”‚
                        â”‚  Database       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ [                                        â”‚
   â”‚   {id:1, name:"Mathematics", ...},      â”‚
   â”‚   {id:2, name:"English", ...},          â”‚
   â”‚   {id:3, name:"Science", ...}           â”‚
   â”‚ ]                                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ this.subjects = data                     â”‚
   â”‚ â†’ Dropdown auto-populated âœ“              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2. SUBJECT SELECTION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ User selects: "Mathematics"     â”‚
   â”‚                                 â”‚
   â”‚ (change)="onSubjectChange(1)"   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /api/Terms/by-subject/1              â”‚ â—„â”€â”€â”€ HTTP REQUEST
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ BACKEND (API)   â”‚
                        â”‚  Database       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ [                                        â”‚
   â”‚   {id:1, name:"Term 1", termNumber:1},  â”‚
   â”‚   {id:2, name:"Term 2", termNumber:2}   â”‚
   â”‚ ]                                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ this.filteredTerms = data                â”‚
   â”‚ this.currentPlan.termId = data[0].id     â”‚
   â”‚ â†’ Term dropdown auto-populated & filled âœ“â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


3. FORM SUBMISSION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ User clicks "Create"            â”‚
   â”‚                                 â”‚
   â”‚ savePlan() called               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /api/SubscriptionPlans              â”‚ â—„â”€â”€â”€ HTTP REQUEST
   â”‚ {                                        â”‚
   â”‚   name: "Math T1",                       â”‚
   â”‚   description: "...",                    â”‚
   â”‚   subjectId: 1,                          â”‚
   â”‚   termId: 1,                             â”‚
   â”‚   price: 99.99,                          â”‚
   â”‚   ...                                    â”‚
   â”‚ }                                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ BACKEND (API)   â”‚
                        â”‚  Database       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ {                                        â”‚
   â”‚   planId: 101,                           â”‚
   â”‚   name: "Math T1",                       â”‚
   â”‚   ...                                    â”‚
   â”‚ }                                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… Success Alert: "Plan created"         â”‚
   â”‚ âœ… Modal closed                          â”‚
   â”‚ âœ… Plans reloaded                        â”‚
   â”‚ âœ… Table shows new plan with:            â”‚
   â”‚    - Subject Name (not ID)               â”‚
   â”‚    - Term Number                         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6ï¸âƒ£ Error Handling Visual

### When Network Fails

```
Scenario 1: Subjects Load Fails
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Network disconnected
   â†“
GET /api/Subjects â†’ ERROR
   â†“
this.subjects = []
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ Error Alert              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Failed to load subjects  â”‚â”‚
â”‚  â”‚                          â”‚â”‚
â”‚  â”‚        [ Close ]         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
User retries or refreshes page


Scenario 2: Terms Load Fails
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
User selects Subject
GET /api/Terms/by-subject/1 â†’ ERROR
   â†“
this.filteredTerms = []
   â†“
Term dropdown becomes empty
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Subject: [â–¼ Mathematics]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Term:    [â–¼ No data]      â”‚
â”‚          (Empty - no terms)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
console.error() logged
User can still try to submit or refresh
```

---

## 7ï¸âƒ£ Performance Metrics

### Network Calls Timeline

```
Timeline (milliseconds):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

0ms   â”€â”¬â”€ Page Load Starts
       â”‚
50ms  â”€â”¼â”€ Component Initialization
       â”‚
100ms â”€â”¼â”€ [GET /api/Subjects] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                  â”‚
150ms â”‚                                  â”‚
       â”‚                                  â”‚
200ms â”‚                     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Response received
       â”‚                                    (Subjects loaded)
       â”‚
250ms â”€â”¼â”€ Subjects dropdown populated
       â”‚
       â”‚ ... User selects subject ...
       â”‚
500ms â”€â”¼â”€ [GET /api/Terms/by-subject/1] â”€â”€â”
       â”‚                                   â”‚
550ms â”‚                                   â”‚
       â”‚                                   â”‚
600ms â”‚                   â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Response received
       â”‚                                     (Terms loaded)
       â”‚
650ms â”€â”¼â”€ Terms dropdown populated & auto-selected
       â”‚
       â”‚ ... User clicks Create ...
       â”‚
700ms â”€â”¼â”€ [POST /api/SubscriptionPlans] â”€â”€â”
       â”‚                                  â”‚
750ms â”‚                                  â”‚
       â”‚                                  â”‚
800ms â”‚                  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Plan created
       â”‚
850ms â”€â”¼â”€ Success alert & modal closes
       â”‚
900ms â”€â”¼â”€ [GET /api/SubscriptionPlans] â”€â”€â”
       â”‚                                  â”‚
950ms â”‚                                  â”‚
       â”‚                                  â”‚
1000msâ”‚                â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Plans list reloaded
       â”‚
1050msâ”€â”¼â”€ Table updated with new plan
       â”‚
1100ms â”€â”´â”€ Done
```

---

## ğŸ“Š Summary Table

| Feature | Before | After |
|---------|--------|-------|
| Subject Input | Manual ID entry | Dropdown with names |
| Term Input | Manual ID entry | Auto-populated dropdown |
| Term Selection | Manual | Auto-selected (1st term) |
| Table Display | Subject ID, Description | Subject Name, Term Number |
| User Experience | Confusing | Intuitive |
| Data Validation | None | Linked subject-term pairs |
| API Calls | Manual | Automatic on selection |
| Error Handling | None | SweetAlert2 messages |

---

**Visual Guide Complete! âœ…**
