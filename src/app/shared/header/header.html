<header class="bg-white shadow-lg sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <nav class="flex justify-between items-center py-2 min-h-[4rem]">
      <!-- Logo/Brand -->
      <div class="flex-shrink-0">
        <a routerLink="/" class="flex items-center text-decoration-none">
          <img
            src="assets/img/logo.png"
            alt="NAPLAN Bridge Logo"
            class="w-auto mr-3 h-14"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
          <div class="text-center" style="display: none;">
            <span class="text-xl font-bold text-primary-500 leading-none">NAPLAN</span>
            <span class="text-sm text-gray-600 font-medium -mt-1 block">Bridge</span>
          </div>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <ul class="hidden md:flex space-x-8 list-none" style="align-items: center;">
        @for (item of navigationItems; track item.route) {
          @if (item.label === 'Plans') {
            <li class="relative group">
              <button class="text-gray-700 hover:text-primary-500 hover:bg-blue-50 px-3 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-1">
                {{ item.label }}
                <svg class="w-4 h-4 transform group-hover:rotate-180 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>
              <ul class="absolute left-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                <li><a routerLink="/plans/basic" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Basic Plan</a></li>
                <li><a routerLink="/plans/premium" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Premium Plan</a></li>
                <li><a routerLink="/plans/enterprise" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Enterprise Plan</a></li>
                <li><a routerLink="/plans/compare" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Compare Plans</a></li>
              </ul>
            </li>
          } @else if (item.label === 'Courses') {
            <li class="relative group">
              <button class="text-gray-700 hover:text-primary-500 hover:bg-blue-50 px-3 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-1">
                {{ item.label }}
                <svg class="w-4 h-4 transform group-hover:rotate-180 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>
              <ul class="absolute left-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                <li><a routerLink="/courses/mathematics" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Mathematics</a></li>
                <li><a routerLink="/courses/reading" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Reading</a></li>
                <li><a routerLink="/courses/writing" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Writing</a></li>
                <li><a routerLink="/courses/language" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors">Language Conventions</a></li>
                <li><a routerLink="/courses/all" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-500 transition-colors border-t border-gray-100 mt-1 pt-3">View All Courses</a></li>
              </ul>
            </li>
          } @else {
            <li>
              <a
                [routerLink]="item.route"
                routerLinkActive="text-primary-500 bg-blue-50 font-semibold"
                [routerLinkActiveOptions]="{ exact: item.route === '/' }"
                class="text-gray-700 hover:text-primary-500 hover:bg-blue-50 px-3 py-2 rounded-lg font-medium transition-all duration-300 no-underline">
                {{ item.label }}
              </a>
            </li>
          }
        }
      </ul>

      <!-- Login Button & Mobile Menu Toggle -->
      <div class="flex items-center space-x-4">
        <a routerLink="/auth/login" class="hidden md:block bg-primary-500 hover:bg-primary-600 text-white px-6 py-2 rounded-lg font-semibold transition-colors duration-300 text-center">
          Login
        </a>

        <!-- Mobile Menu Toggle -->
        <button
          class="md:hidden flex flex-col space-y-1 p-2"
          (click)="toggleMobileMenu()"
          [class.active]="isMobileMenuOpen"
          aria-label="Toggle navigation">
          <span class="block w-6 h-0.5 bg-gray-600 transition-transform duration-300"
                [class.rotate-45]="isMobileMenuOpen"
                [class.translate-y-1.5]="isMobileMenuOpen"></span>
          <span class="block w-6 h-0.5 bg-gray-600 transition-opacity duration-300"
                [class.opacity-0]="isMobileMenuOpen"></span>
          <span class="block w-6 h-0.5 bg-gray-600 transition-transform duration-300"
                [class.-rotate-45]="isMobileMenuOpen"
                [class.-translate-y-1.5]="isMobileMenuOpen"></span>
        </button>
      </div>
    </nav>

    <!-- Mobile Navigation -->
    @if (isMobileMenuOpen) {
      <div class="md:hidden bg-white border-t border-gray-200 py-4">
        <ul class="space-y-2 list-none">
          @for (item of navigationItems; track item.route) {
            <li>
              <a
                [routerLink]="item.route"
                routerLinkActive="text-primary-500 bg-blue-50 font-semibold"
                [routerLinkActiveOptions]="{ exact: item.route === '/' }"
                class="block text-gray-700 hover:text-primary-500 hover:bg-blue-50 px-4 py-2 rounded-lg font-medium transition-all duration-300 no-underline"
                (click)="toggleMobileMenu()">
                {{ item.label }}
              </a>
            </li>
          }
          <li class="pt-2">
            <button class="w-full bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors duration-300">
              Login
            </button>
          </li>
        </ul>
      </div>
    }
  </div>
</header>
