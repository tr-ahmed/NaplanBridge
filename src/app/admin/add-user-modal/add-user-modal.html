<!-- Modal Overlay -->
<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-50">
  <div class="bg-white rounded-xl shadow-lg w-full max-w-md p-8 relative">
    <button class="absolute top-3 right-4 text-2xl text-gray-400 hover:text-red-500" (click)="close.emit()">Ã—</button>
    <h2 class="text-xl font-bold mb-6 text-blue-900 text-center">Add New Teacher</h2>
    <form [formGroup]="addUserForm" (ngSubmit)="onSubmit()" autocomplete="off">
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Username</label>
        <input formControlName="userName" class="w-full border rounded px-3 py-2" />
        @if (addUserForm.get('userName')?.invalid && addUserForm.get('userName')?.touched) {
          <small class="text-red-500">Username is required.</small>
        }
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Email</label>
        <input formControlName="email" type="email" class="w-full border rounded px-3 py-2" />
        @if (addUserForm.get('email')?.hasError('required') && addUserForm.get('email')?.touched) {
          <small class="text-red-500">Email is required.</small>
        }
        @if (addUserForm.get('email')?.hasError('email') && addUserForm.get('email')?.touched) {
          <small class="text-red-500">Invalid email.</small>
        }
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Password</label>
        <input formControlName="password" type="password" class="w-full border rounded px-3 py-2" />
        @if (addUserForm.get('password')?.hasError('required') && addUserForm.get('password')?.touched) {
          <small class="text-red-500">Password is required.</small>
        }
        @if (addUserForm.get('password')?.hasError('minlength') && addUserForm.get('password')?.touched) {
          <small class="text-red-500">Password must be at least 6 characters.</small>
        }
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-semibold">Phone Number</label>
        <input formControlName="phoneNumber" class="w-full border rounded px-3 py-2" />
        @if (addUserForm.get('phoneNumber')?.invalid && addUserForm.get('phoneNumber')?.touched) {
          <small class="text-red-500">Phone number is required.</small>
        }
      </div>
      <div class="mb-6">
        <label class="block mb-1 font-semibold">Age</label>
        <input formControlName="age" type="number" class="w-full border rounded px-3 py-2" />
        @if (addUserForm.get('age')?.hasError('required') && addUserForm.get('age')?.touched) {
          <small class="text-red-500">Age is required.</small>
        }
        @if (addUserForm.get('age')?.hasError('min') && addUserForm.get('age')?.touched) {
          <small class="text-red-500">Age must be at least 18.</small>
        }
      </div>
      <button type="submit" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-semibold py-2 rounded" [disabled]="loading">
        <span *ngIf="!loading">Add Teacher</span>
        <span *ngIf="loading">Adding...</span>
      </button>
      @if (error) {
        <div class="text-red-600 mt-3 text-center">{{ error }}</div>
      }
    </form>
  </div>
</div>
