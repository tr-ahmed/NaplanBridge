<!-- Admin Dashboard Layout - Angular 17 Standalone, Tailwind CSS -->

<div class="min-h-screen flex bg-[#F5F7FA] text-gray-900">

  <!-- Sidebar -->
  <aside class="w-64 bg-[#0F376B] text-white flex flex-col">
    <!-- Brand -->
    <div class="flex items-center gap-3 px-5 py-4 border-b border-white/10">
      <div class="w-10 h-10 rounded-full bg-white/15 grid place-content-center text-lg font-black">N</div>
      <div class="text-xl font-bold">NAPLAN<span class="text-orange-400">Bridge</span></div>
    </div>
    <!-- Nav -->
    <nav class="flex-1 p-3 space-y-1">
      <a href="#" class="group flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-white/10">
        <svg class="w-4 h-4 shrink-0" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <path d="M3 12l9-9 9 9"/><path d="M9 21V9h6v12"/>
        </svg>
        <span class="font-medium">Dashboard</span>
      </a>
      <a href="#" class="group flex items-center gap-3 px-4 py-2 rounded-xl bg-white/10">
        <svg class="w-4 h-4 shrink-0" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
        <span class="font-medium">User management</span>
      </a>
      <a href="#" class="group flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-white/10">
        <svg class="w-4 h-4 shrink-0" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <rect x="3" y="4" width="18" height="14" rx="2"/><path d="M3 10h18"/>
        </svg>
        <span class="font-medium">Content management</span>
      </a>
      <a href="#" class="group flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-white/10">
        <svg class="w-4 h-4 shrink-0" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <path d="M3 3v18h18"/><path d="M19 13l-5 5-4-4-3 3"/>
        </svg>
        <span class="font-medium">Analytics</span>
      </a>
      <a href="#" class="group flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-white/10">
        <svg class="w-4 h-4 shrink-0" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <path d="M20 7h-9a4 4 0 0 0-4 4v7"/><path d="M9 7V4a2 2 0 0 1 2-2h3"/><path d="M3 17h11a4 4 0 0 0 4-4V7"/>
        </svg>
        <span class="font-medium">Financial reports</span>
      </a>
      <a href="#" class="group flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-white/10">
        <svg class="w-4 h-4 shrink-0" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 7.04 3.3l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .69.28 1.35.78 1.82.23.22.51.39.82.48V12c-.31.09-.59.26-.82.48A2.64 2.64 0 0 0 19.4 15z"/>
        </svg>
        <span class="font-medium">System setting</span>
      </a>
    </nav>
    <!-- Sidebar footer -->
    <div class="mt-auto border-t border-white/10">
      <div class="flex items-center gap-3 px-5 py-3">
        <div class="w-10 h-10 rounded-full border-2 border-gray-300 overflow-hidden shadow-md">
          <img src="https://i.pravatar.cc/40?img=5" alt="User" class="w-full h-full object-cover" />
        </div>
        <div class="leading-tight">
          <div class="text-sm font-medium">Admin user</div>
        </div>
      </div>
      <a href="#" class="block px-5 py-2 text-sm hover:bg-white/10 rounded-lg">Logout</a>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-6">
    <!-- Top bar -->
    <div class="flex items-center justify-between mb-6">
      <div class="relative w-[520px] max-w-full">
        <input type="text" placeholder="Search user, content or analytic"
               class="w-full pl-11 pr-4 py-2.5 rounded-2xl border border-gray-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#407BFF]/30"/>
        <svg class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      </div>
      <div class="flex items-center gap-3">
        <button class="btn inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-[#EAF1FF] text-[#1D4ED8] border border-[#D6E4FF]">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          Export report
        </button>
        <button class="btn px-4 py-2 rounded-xl bg-[#0F376B] text-white" (click)="openAddUserModal()">+ Add user</button>
        <div class="flex items-center gap-4">
          <!-- Notification Bell -->
          <div class="relative">
            <button class="w-10 h-10 rounded-full bg-[#0F376B] flex items-center justify-center hover:bg-blue-300 transition">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6z" />
              </svg>
            </button>
            <span class="absolute top-1 right-1 block w-2 h-2 bg-red-500 rounded-full"></span>
          </div>
          <!-- User Avatar -->
          <div class="w-10 h-10 rounded-full border-2 border-gray-300 overflow-hidden shadow-md">
            <img src="https://i.pravatar.cc/40?img=5" alt="User" class="w-full h-full object-cover" />
          </div>
        </div>
      </div>
    </div>

    <!-- Title -->
    <div>
      <h1 class="text-2xl font-bold">User Management</h1>
      <p class="text-gray-500 text-sm">Manage all platform users and their permissions</p>
    </div>

    <!-- Stats Cards -->
    <div class="grid grid-cols-5 gap-4 mt-4">
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-gray-500 text-sm">Total Users</h2>
        <p class="text-2xl font-bold">1,335</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-gray-500 text-sm">Teachers</h2>
        <p class="text-2xl font-bold">500</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-gray-500 text-sm">Parents</h2>
        <p class="text-2xl font-bold">200</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-gray-500 text-sm">Students</h2>
        <p class="text-2xl font-bold">633</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-gray-500 text-sm">Admins</h2>
        <p class="text-2xl font-bold">2</p>
      </div>
    </div>

    <!-- Teachers Management Section -->
    <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mt-6">
      <h2 class="text-xl font-bold mb-6">Teachers Management</h2>
      <!-- Add Teacher Button -->
      <button (click)="openAddUserModal()" 
              class="px-4 py-2 mb-6 rounded bg-blue-600 text-white hover:bg-blue-700 transition">
        âž• Add Teacher
      </button>
      <!-- Add User Modal -->
      @if (isAddUserModalOpen) {
        <app-add-user-modal (close)="closeAddUserModal()" (userCreated)="handleUserCreated($event)">
        </app-add-user-modal>
      }
      <!-- Loading State -->
      @if (loading) {
        <div class="text-blue-500">Loading users...</div>
      }
      <!-- Error Message -->
      @if (errorMessage) {
        <div class="text-red-500">{{ errorMessage }}</div>
      }
      <!-- Teachers Table -->
      @if (!loading && users.length > 0) {
        <div class="overflow-x-auto mt-4">
          <table class="w-full border border-gray-200 rounded-lg">
            <thead class="bg-gray-50">
              <tr>
                <th class="p-2 text-left">#</th>
                <th class="p-2 text-left">Username</th>
                <th class="p-2 text-left">Email</th>
                <th class="p-2 text-left">Phone</th>
                <th class="p-2 text-left">Age</th>
              </tr>
            </thead>
            <tbody>
              @for (user of users; track user.id) {
                <tr class="hover:bg-gray-100">
                  <td class="p-2">{{ users.indexOf(user) + 1 }}</td>
                  <td class="p-2">{{ user.userName }}</td>
                  <td class="p-2">{{ user.email }}</td>
                  <td class="p-2">{{ user.phoneNumber }}</td>
                  <td class="p-2">{{ user.age }}</td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      } @else if (!loading && users.length === 0) {
        <div class="text-gray-600 mt-4">No teachers found.</div>
      }
    </section>

    <!-- Users Table (Sample Data) -->
    <div class="bg-white rounded-lg shadow mt-6 overflow-hidden">
      <div class="flex justify-between p-4 border-b">
        <div class="flex items-center bg-gray-100 rounded-lg px-3 py-1 w-1/3">
          <input type="text" placeholder="Search by name or email" class="bg-transparent outline-none w-full text-sm" />
        </div>
      </div>
      <table class="w-full text-sm">
        <thead class="bg-gray-50 text-gray-500 uppercase text-xs">
          <tr>
            <th class="text-left p-3">User</th>
            <th class="text-left p-3">Role</th>
            <th class="text-left p-3">Status</th>
            <th class="text-left p-3">Join Date</th>
            <th class="text-left p-3">Last Login</th>
            <th class="text-left p-3">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-b">
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-blue-100 text-blue-600 px-2 py-1 rounded">Teacher</span></td>
            <td class="p-3"><span class="bg-green-100 text-green-600 px-2 py-1 rounded">Active</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">2h ago</td>
            <td class="p-3">...</td>
          </tr>
          <tr class="border-b">
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded">Admin</span></td>
            <td class="p-3"><span class="bg-yellow-100 text-yellow-600 px-2 py-1 rounded">Pending</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">45m ago</td>
            <td class="p-3">...</td>
          </tr>
          <tr class="border-b">
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-pink-100 text-pink-600 px-2 py-1 rounded">Parent</span></td>
            <td class="p-3"><span class="bg-red-100 text-red-600 px-2 py-1 rounded">Suspended</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">just now</td>
            <td class="p-3">...</td>
          </tr>
          <tr class="border-b">
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded">Student</span></td>
            <td class="p-3"><span class="bg-gray-100 text-gray-500 px-2 py-1 rounded">Inactive</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">just now</td>
            <td class="p-3">...</td>
          </tr>
          <tr class="border-b">
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-gray-200 text-gray-700 px-2 py-1 rounded">Student</span></td>
            <td class="p-3"><span class="bg-gray-100 text-gray-500 px-2 py-1 rounded">Inactive</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">20s ago</td>
            <td class="p-3">...</td>
          </tr>
          <tr class="border-b">
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-pink-100 text-pink-600 px-2 py-1 rounded">Parent</span></td>
            <td class="p-3"><span class="bg-yellow-100 text-yellow-600 px-2 py-1 rounded">Pending</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">45m ago</td>
            <td class="p-3">...</td>
          </tr>
          <tr class="border-b">
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-blue-100 text-blue-600 px-2 py-1 rounded">Teacher</span></td>
            <td class="p-3"><span class="bg-yellow-100 text-yellow-600 px-2 py-1 rounded">Pending</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">45m ago</td>
            <td class="p-3">...</td>
          </tr>
          <tr>
            <td class="p-3">Emma Craston</td>
            <td class="p-3"><span class="bg-blue-100 text-blue-600 px-2 py-1 rounded">Teacher</span></td>
            <td class="p-3"><span class="bg-green-100 text-green-600 px-2 py-1 rounded">Active</span></td>
            <td class="p-3">25/07/2025</td>
            <td class="p-3">45m ago</td>
            <td class="p-3">...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>
